# ==================================================
# PetCam AI Server - 프로덕션(실서비스) 환경 설정
# ==================================================
# 
# ⚠️  중요: 이 파일은 "예시"입니다!
# 
# 사용 방법:
#   1. 이 파일을 ".env.production"으로 복사하세요
#      cp .env.production.example .env.production
#   
#   2. 아래 값들을 실제 값으로 변경하세요
#   
#   3. 서버 실행:
#      docker-compose -f docker-compose.prod.yml --env-file .env.production up -d
#
# ⚠️  주의사항:
#   - .env.production 파일은 절대 Git에 올리지 마세요!
#   - 비밀번호와 키는 충분히 복잡하게 설정하세요
# ==================================================


# ============================================================
# 🔐 보안 설정 (가장 중요!)
# ============================================================

# JWT 시크릿 키
# - 로그인 토큰을 암호화하는 비밀 키입니다
# - 최소 32자 이상의 무작위 문자열을 사용하세요
# - 생성 방법: 터미널에서 "openssl rand -hex 32" 입력
SECRET_KEY=여기에-32자-이상의-무작위-문자열-입력


# ============================================================
# 🗄️ 데이터베이스 설정
# ============================================================

# PostgreSQL 관리자 계정
# - 데이터베이스에 접속할 때 사용하는 아이디입니다
POSTGRES_USER=petcam_prod_user

# PostgreSQL 비밀번호
# - 영문 대소문자, 숫자, 특수문자를 조합해서 만드세요
# - 예: MyStr0ng!Pass#2024
POSTGRES_PASSWORD=여기에-강력한-비밀번호-입력

# 데이터베이스 이름
POSTGRES_DB=petcam_production

# 데이터베이스 연결 주소
# - Docker 내부에서 사용할 때: db:5432
# - AWS RDS 사용할 때: your-rds주소.ap-northeast-2.rds.amazonaws.com:5432
DATABASE_URL=postgresql+asyncpg://petcam_prod_user:여기에-강력한-비밀번호-입력@db:5432/petcam_production


# ============================================================
# 🖥️ 서버 설정
# ============================================================

# 서버 내부 주소 (변경 불필요)
HOST=0.0.0.0
PORT=8000

# JWT 토큰 유효 시간 (분)
# - 30분 = 보안 강화 (자주 재로그인 필요)
# - 1440분(24시간) = 편의성 (하루 한번 로그인)
ACCESS_TOKEN_EXPIRE_MINUTES=30

# 동시 처리 작업자 수
# - 서버 CPU 코어 수에 따라 조정
# - 권장: (CPU 코어 수 × 2) + 1
# - 예: 2코어 서버 → 5
GUNICORN_WORKERS=4


# ============================================================
# 🌐 보안 정책 (CORS)
# ============================================================

# 접속을 허용할 도메인 목록
# - 쉼표(,)로 구분하여 여러 개 입력 가능
# - 예: https://petcam.com,https://www.petcam.com,https://app.petcam.com
# - 반드시 https://로 시작해야 합니다
ALLOWED_ORIGINS=https://your-domain.com


# ============================================================
# 📊 모니터링 (선택사항)
# ============================================================

# Sentry DSN (에러 자동 수집 서비스)
# - https://sentry.io 에서 무료 계정 생성 후 DSN 복사
# - 서버 오류 발생 시 자동으로 알림을 받을 수 있습니다
# - 설정 안 하면 비워두세요
SENTRY_DSN=

# 로그 상세 수준
# - debug: 모든 로그 (개발용)
# - info: 일반 정보 (프로덕션 권장)
# - warning: 경고 이상만
# - error: 에러만
LOG_LEVEL=info


# ============================================================
# ☁️ AWS 설정 (나중에 필요할 때 사용)
# ============================================================

# S3 버킷 (이미지 저장소)
# AWS_S3_BUCKET=petcam-images-prod
# AWS_REGION=ap-northeast-2

# CloudWatch 로그 그룹
# CLOUDWATCH_LOG_GROUP=/petcam/api
